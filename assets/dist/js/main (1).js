var viewportwidth,viewportheight,slidingPanel,ksTl,transitionInTimeout,$window=$(window),$document=$(document),$body=$("body"),scrolled=$window.scrollTop(),isFirstPageView=!0,w=$window.width();let chartXs,chartLg,getProductsDataInterval;function scrollAppear(t){!$body.hasClass("is-anim-ready")||t.hasClass("scroll-appear-is-inview")||t.hasClass("hide")||t.parents(".hide").length||t.hasClass("no-more-scroll-appear")||((scrolled=$window.scrollTop())+viewportheight*(1-parseInt(t.data("scroll-appear-offset"))/100)>=t.offset().top||scrolled+viewportheight>=$document.height())&&(t.hasClass("scroll-appear-is-inview")||t.addClass("scroll-appear-is-inview"))}function startOnScrollVideo(t){var e=t.find("video");scrolled=$window.scrollTop(),e.length&&(scrolled+viewportheight>=t.offset().top||scrolled+viewportheight>=$document.height())&&!e.hasClass("has-played")&&e[0].paused&&(e.addClass("has-played"),e[0].play())}function startLottieOnScroll(t){scrolled=$window.scrollTop(),$body.hasClass("is-anim-ready")&&!t.hasClass("has-played")&&scrolled+viewportheight>=t.offset().top&&(t.addClass("has-played"),t[0].getLottie().play(),t.attr("loop")&&t[0].setLooping(!0))}function scrollToHashtagOnLoad(){if(window.location.hash&&!$(".m-shop-page").length){var t=$(window.location.hash);t.length&&$("html,body").animate({scrollTop:t.offset().top-$(".l-navigation").outerHeight()},1)}}function viewportSize(){void 0!==window.innerWidth?(viewportwidth=window.innerWidth,viewportheight=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(viewportwidth=document.documentElement.clientWidth,viewportheight=document.documentElement.clientHeight):(viewportwidth=document.getElementsByTagName("body")[0].clientWidth,viewportheight=document.getElementsByTagName("body")[0].clientHeight)}function initScript(){var t=$("#sliding-panel"),e=$(".m-team-featured-items"),s="Previous",i="Next",a="Close";viewportSize(),$window.on("resize",viewportSize),$("html").removeClass("no-js").addClass("has-js"),$(".barba-container").hasClass("fr")&&(s="Précédent",i="Suivant",a="Fermer",$.extend(!0,$.magnificPopup.defaults,{tClose:"Fermer (Esc)",tLoading:"Chargement...",gallery:{tPrev:"Précédent (Flèche gauche)",tNext:"Suivant (Flèche droite)",tCounter:"%curr% de %total%"},image:{tError:"<a href=\"%url%\">L'image</a> n'a pas pu être chargé."},ajax:{tError:'<a href="%url%">Le contenu</a> n\'a pas pu être chargé.'}}));var n=$(".l-navigation"),o=!1;function r(){"visible"===t.css("visibility")||$body.hasClass("mfp-is-open")||((scrolled=$window.scrollTop())>10?(n.removeClass("l-navigation-is-top").addClass("l-navigation-has-scrolled"),o=!0):o&&n.addClass("l-navigation-is-top").removeClass("l-navigation-has-scrolled"))}r(),$window.on("scroll resize",r),slidingPanel=t.slidingPanel({addBackgroundOverlay:!1,addCloseButton:!1,transitionDurationOnOpen:200,transitionDurationOnClose:200,onOpenBefore:function(){$(".btn-open-sliding-panel").addClass("btn-open-sliding-panel-is-active btn-close-sliding-panel"),n.addClass("l-navigation-is-top").removeClass("l-navigation-has-scrolled")},onCloseBefore:function(){$(".btn-open-sliding-panel").removeClass("btn-open-sliding-panel-is-active btn-close-sliding-panel"),parseInt($("#site-wrapper").css("top"))<-10&&n.addClass("l-navigation-has-scrolled").removeClass("l-navigation-is-top")}}),$(".has-submenu").find("> a").on("click touchstart",(function(t){t.stopPropagation(),t.preventDefault();var e=$(this);if(is.touchDevice()){if(e.parent().siblings().removeClass("hover"),!0===t.handled)return!1;e.parent().hasClass("hover")?e.parent().removeClass("hover"):e.parent().addClass("hover"),t.handled=!0}e.blur()})),$(".has-submenu-collapse").find("> a").on("click",(function(t){t.preventDefault()}));var l=$(".barba-container");$(".has-submenu").hover((function(){l.hasClass("not-scrolled")&&l.removeClass("not-scrolled")}),(function(){scrolled<=10&&l.addClass("not-scrolled")})),$window.on("scroll",(function(){(scrolled=$window.scrollTop())>10?l.removeClass("not-scrolled"):l.addClass("not-scrolled")}));var d=$(".l-header-slider-items");function c(t){var e=d.find(".btn-arrow"),s=e.find("svg"),i=t.data("arrows-bg-color");e.css({backgroundColor:i}),t.hasClass("l-header-slider-item-dark")?s.css({fill:"#000000"}):s.css({fill:"#FFFFFF"})}if(d.length&&(d.on("init",(function(){c(d.find(".slick-active .l-header-slider-item"))})),d.on("beforeChange",(function(t,e,s,i){c(d.find("[data-slick-index="+i+"]").find(".l-header-slider-item"))})),d.slick({autoplay:!0,autoplaySpeed:5e3,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",speed:800,touchMove:!1,prevArrow:'<button type="button" class="slick-prev btn btn-arrow btn-arrow-prev d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button type="button" class="slick-next btn btn-arrow btn-arrow-next d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",responsive:[{breakpoint:768,settings:{speed:500}}]}),d.find(".social").on("touchstart",(function(){d.slick("slickSetOption","swipe",!1,!1)})),d.find(".social").on("touchend",(function(){d.slick("slickSetOption","swipe",!0,!1)}))),$.fn.shuffle=function(){var t=this.get(),e=$.map(t,(function(){var e,s=(e=t.length,Math.floor(Math.random()*e)),i=$(t[s]).clone(!0)[0];return t.splice(s,1),i}));return this.each((function(t){$(this).replaceWith($(e[t]))})),$(e)},e.length){var h=$(".m-team-featured-item");h.shuffle().parents(".col").removeClass((function(t,e){return(e.match(/(^|\s)scroll-appear-delay-\S+/g)||[]).join(" ")}));for(var p=0;p<=h.length;p++)$(".m-team-featured-item").eq(p).parents(".col").addClass("scroll-appear-delay-"+p+"00");e.slick({arrows:!1,autoplaySpeed:3e3,centerMode:!0,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",initialSlide:2,pauseOnHover:!1,pauseOnFocus:!1,touchMove:!1,variableWidth:!0}),e.slick("slickPause"),$window.on("scroll resize",(function(){e.parents(".scroll-appear-is-inview").length&&e.slick("slickPlay")}))}var f=$(".m-medias-featured-items");f.length&&f.find(".m-medias-featured-item").length>1&&(f.on("init",(function(){f.find(".m-medias-featured-item").removeClass("m-medias-featured-item-is-active")})),f.slick({autoplay:!1,centerMode:!0,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",initialSlide:0,speed:800,touchMove:!1,variableWidth:!0,prevArrow:'<button type="button" class="slick-prev btn btn-arrow btn-arrow-prev d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button type="button" class="slick-next btn btn-arrow btn-arrow-next d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",responsive:[{breakpoint:768,settings:{speed:500}}]})),$("body").on("click",".magnific-banner-video",(function(t){t.preventDefault(),$(this).magnificPopup({iframe:{markup:'<div class="mfp-iframe-margins"><div class="mfp-close"></div><div class="mfp-iframe-scaler"><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div></div>',titleSrc:function(t){return t.el.attr("data-title")},patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},twitch:{index:"twitch.tv/",id:"/videos/",src:"https://player.twitch.tv/?autoplay=true&video=%id%"}},srcAction:"iframe_src"},type:"iframe",mainClass:"mfp-fade",removalDelay:200,callbacks:{beforeOpen:function(){d.length&&d.slick("slickPause")},close:function(){d.length&&d.slick("slickPlay")}}}).magnificPopup("open")})),$(".collapse").on("show.bs.collapse",(function(t){var e=$(this).closest(".card"),s=$($(this).data("parent")).find(".collapse.show");if(e.length){var i=0;0!==e.prevAll().filter(s.closest(".card")).length&&(i=s.height()),$("html,body").animate({scrollTop:e.offset().top-i-$(".l-navigation").height()},500)}})),$(".scroll-to-anchor").on("click",(function(t){var e=$(this).attr("href"),s=$(e);s.length&&$("html,body").animate({scrollTop:s.offset().top-$(".l-navigation").height()},500),t.preventDefault()}));var u=$(".difficulty-popover"),m=$(".difficulty-popover-content").html();u&&m&&u.attr("data-content",m),u.popover({fallbackPlacement:["bottom"],html:!0,sanitize:!1,trigger:"hover"});var g=$(".m-blog-single"),v=g.find(".m-blog-single-bg"),b=$(".c-read-progress"),y=b.find("div");function k(){(scrolled=$window.scrollTop())>=g.offset().top&&scrolled<=g.offset().top+v.outerHeight()?b.addClass("c-read-progress-is-visible"):b.removeClass("c-read-progress-is-visible"),y.css({width:(scrolled-g.offset().top)/v.outerHeight()*100+"%"})}b.length&&(k(),$window.on("scroll resize",k));var C=g.find(".logo-scrolled");function x(){(scrolled=$window.scrollTop())>=g.offset().top?C.addClass("logo-scrolled-is-visible"):C.removeClass("logo-scrolled-is-visible")}C.length&&(x(),$window.on("scroll resize",x));var T=$(".m-blog-single-share"),I=$(".m-blog-single-share-wrapper");T.length&&I.length&&T.stick_in_parent({offset_top:0,parent:I,spacer:!1});var S=$(".c-press-kit-sidenav nav"),F=$(".c-press-kit-sidenav");if($body.scrollspy("dispose"),$body.scrollspy({offset:$(".l-navigation").height()+40,target:F}),S.length&&F.length){S.stick_in_parent({offset_top:$(".l-navigation").height()+40,parent:F,spacer:!1}),F.find("a").on("click",(function(t){$("html,body").animate({scrollTop:$($(this).attr("href")).offset().top-$(".l-navigation").height()},800),t.preventDefault()}));var P=$(".c-press-kit-sidenav nav ul li:first-of-type a");$window.scroll((function(){$window.scrollTop()<=F.offset().top&&P.addClass("active")}))}$(".c-press-kit-block").find(".btn-load-more").on("click",(function(){var t=$(this),e=t.parents(".c-press-kit-innerblock").find(".hidden-item");e.fadeIn(200,(function(){e.removeClass("hidden-item")})),t.parent().fadeOut(200)}));var z,E=$(".timeline"),O=$(".timeline-items");function A(t){if(viewportwidth>=768&&t.is(":not(:first-child)")&&!t.find(".timeline-item-large").length){var e=t.prev(),s=parseInt(t.css("padding-top"));if(!e.find(".timeline-item-large").length){t.css({marginTop:""});var i=t.find(".col-12.left .timeline-item"),a=t.find(".col-12.right .timeline-item"),n=e.find(".col-12.left .timeline-item"),o=e.find(".col-12.right .timeline-item");if(a.length&&o.length){var r=a.offset().top,l=o.offset().top+o.height();r-l>s&&t.css({marginTop:-(r-l-s)+"px"})}if(i.length&&n.length)i.offset().top-(n.offset().top+n.height())<s&&t.css({marginTop:-parseInt(i.parents(".col-12").css("padding-top"))+"px"});if(t.offset().top+t.outerHeight()<e.offset().top+e.outerHeight()){var d=parseInt(t.css("margin-top"));t.css({marginTop:d+(e.offset().top+e.outerHeight()-(t.offset().top+t.outerHeight()))})}}}else t.css({marginTop:""})}O.length&&(O.each((function(){A($(this))})),$window.on("resize",(function(){$window.width()!==w&&(w=$window.width(),clearTimeout(z),z=setTimeout((function(){O.each((function(){A($(this))}))}),100))})));var D=$(".timeline-item");D.find(".read-more-button").on("click",(function(t){var e=$(this).parents(".editor");e.find(".excerpt").hide(),e.find(".full").show(),O.each((function(){A($(this))})),t.preventDefault()}));var M=D.find(".img-slider");M.length&&M.each((function(){var t=$(this);t.on("beforeChange",(function(e,s,i,a){t.parent().find(".nb .current").text(a+1)})),t.hasClass("slick-initialized")||(t.parents(".magnific-timeline-horizontal").length?t.slick({appendDots:t.parents(".img").find(".img-slider-dots"),appendArrows:t.parents(".img-wrapper"),cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",dots:!0,draggable:!1,prevArrow:'<button type="button" class="slick-prev btn btn-arrow btn-arrow-prev"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button type="button" class="slick-next btn btn-arrow btn-arrow-next"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",swipe:!0,touchMove:!1}):t.slick({appendDots:t.parents(".img").find(".img-slider-dots"),arrows:!1,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",dots:!0,draggable:!1,swipe:!0,touchMove:!1}))}));var _,L,j=$(".btn-timeline-year"),q=$(".timeline-overlay");j.on("click",(function(){var t=$(this).data("timeline-year"),e=$(".timeline-year-"+t);e.length&&(q.addClass("timeline-overlay-is-visible"),clearTimeout(_),_=setTimeout((function(){$("html, body").animate({scrollTop:e.offset().top-$(".l-navigation").height()},600),clearTimeout(L),L=setTimeout((function(){q.removeClass("timeline-overlay-is-visible"),$body.hasClass("mfp-is-open")&&setTimeout((function(){$.magnificPopup.close()}),100)}),500)}),100))}));var B=$(".timeline-year"),H=$(".timeline-years-nav-items").find(".line"),N=$(".mfp-timeline").find(".timeline-years-nav-items .line"),X=$(".btn-year");function W(t){scrolled=$window.scrollTop();var e=t,s=e.data("timeline-year");if(scrolled+viewportheight>=e.offset().top&&scrolled+viewportheight<e.offset().top+e.outerHeight()){var i=$(".btn-timeline-year-"+s);i.parent().hasClass("current-nav-item")||(j.parent().removeClass("current-nav-item"),i.parent().addClass("current-nav-item"),H.css({transform:"translate3d(0, "+36*i.parent().index()+"px, 0)"}),N.css({transform:"translate3d(0, "+60*i.parent().index()+"px, 0)"})),parseInt(X.text())!==parseInt(s)&&X.text(s)}scrolled+viewportheight>=E.offset().top+E.outerHeight()&&(j.last().parent().hasClass("current-nav-item")||j.last().parent().addClass("current-nav-item"),parseInt(X.text())!==parseInt(B.last().data("timeline-year"))&&X.text(B.last().data("timeline-year")))}B.each((function(){W($(this))})),$window.on("scroll resize",(function(){B.each((function(){W($(this))}))}));var J=$(".timeline-roster-nav"),V=$(".timeline-item-hiring"),K=$(".timeline-item-leave"),R=0;function Y(t,e){var s=t,i=$(".mfp-roster");e.hasClass("seen")&&e.removeClass("seen"),s.hasClass("is-visible")&&(J.find("ul").each((function(){var t=$(this);t.css({height:t.outerHeight()})})),s.removeClass("is-visible"),setTimeout((function(){s.hide(),J.find("ul").css({height:""}),J.find("li.is-visible").length||(J.find("h2").addClass("mb-0"),J.find("li.none").show(),J.removeClass("timeline-roster-nav-is-visible")),setTimeout((function(){s.removeClass("is-visible"),(R=$(".timeline-item-hiring.seen").length-$(".timeline-item-leave.seen").length)<=0&&!i.hasClass("mfp-roster-is-hidden")&&i.addClass("mfp-roster-is-hidden"),i.find(".nb").text(R),$(".aside-fixed-wrapper").trigger("sticky_kit:recalc")}),5)}),200))}function G(t){scrolled=$window.scrollTop();var e=t,s=$("aside, .mfp-timeline-roster").find('a[data-timeline-employee="'+e.find("a").data("timeline-employee")+'"]').parents("li");scrolled+viewportheight>=e.offset().top?s.hasClass("has-left")||function(t,e){var s=t,i=$(".mfp-roster");e.hasClass("seen")||e.addClass("seen"),s.hasClass("is-visible")||(s.show(),J.find("h2").hasClass("mb-0")&&(J.find("h2").removeClass("mb-0"),J.find("li.none").hide(),J.addClass("timeline-roster-nav-is-visible")),setTimeout((function(){s.addClass("is-visible"),(R=$(".timeline-item-hiring.seen").length-$(".timeline-item-leave.seen").length)>0&&i.hasClass("mfp-roster-is-hidden")&&i.removeClass("mfp-roster-is-hidden"),i.find(".nb").text(R),$(".aside-fixed-wrapper").trigger("sticky_kit:recalc")}),5))}(s,e):Y(s,e)}function Q(t){var e=t,s=$("aside, .mfp-timeline-roster").find('a[data-timeline-employee="'+e.find("a").data("timeline-employee")+'"]').parents("li");scrolled+viewportheight>=e.offset().top?(e.hasClass("seen")||e.addClass("seen"),s.hasClass("has-left")||(s.addClass("has-left"),Y(s,e))):(e.hasClass("seen")&&e.removeClass("seen"),s.hasClass("has-left")&&s.removeClass("has-left"))}$(".btn-timeline-employee").on("click",(function(t){var e=$(this).data("timeline-employee"),s=$("#"+e);s.length&&(q.addClass("timeline-overlay-is-visible"),clearTimeout(_),_=setTimeout((function(){$("html, body").animate({scrollTop:s.offset().top-$(".l-navigation").height()},600),clearTimeout(L),L=setTimeout((function(){q.removeClass("timeline-overlay-is-visible"),$body.hasClass("mfp-is-open")&&setTimeout((function(){$.magnificPopup.close()}),100)}),500)}),100)),t.preventDefault()})),V.each((function(){G($(this))})),$window.on("scroll resize",(function(){V.each((function(){G($(this))}))})),K.each((function(){Q($(this))})),$window.on("scroll resize",(function(){K.each((function(){Q($(this))}))}));var Z=$(".mfp-years"),U=$(".mfp-timeline").find(".mfp-years");Z.magnificPopup({autoFocusLast:!1,closeBtnInside:!1,closeMarkup:'<button title="%title%" type="button" class="mfp-close"><span class="text">Close</span></button>',type:"inline",mainClass:"mfp-fade mfp-timeline",midClick:!0,removalDelay:200,callbacks:{open:function(){$body.addClass("mfp-is-open"),Z.addClass("btn-is-active")},close:function(){$body.removeClass("mfp-is-open"),Z.removeClass("btn-is-active")}}}),U.on("click",(function(t){$.magnificPopup.close(),t.preventDefault()}));var tt=$(".mfp-roster");tt.magnificPopup({autoFocusLast:!1,closeBtnInside:!1,closeMarkup:'<button title="%title%" type="button" class="mfp-close"><span class="text">Close</span></button>',type:"inline",mainClass:"mfp-fade mfp-timeline",midClick:!0,removalDelay:200,callbacks:{open:function(){$body.addClass("mfp-is-open"),tt.addClass("btn-is-active")},close:function(){$body.removeClass("mfp-is-open"),tt.removeClass("btn-is-active")}}});var et=$(".timeline-item a");et.on("click",(function(t){var e=$(this);viewportwidth<1024&&(e.parents(".timeline-item-video").length&&(e.parents(".timeline-item-video-youtube").length?e.find("iframe").length||e.find(".img").append('<iframe width="560" height="315" src="https://www.youtube.com/embed/'+e.data("youtube-id")+'?autoplay=1&rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'):e.find("video").length||(e.find(".img").append('<video controls disablePictureInPicture playsinline><source src="'+e.data("video-mp4-src")+'" type="video/mp4"><source src="'+e.data("video-webm-src")+'" type="video/webm"></video>'),e.find("video")[0].paused&&e.find("video")[0].play()),e.addClass("video-is-active")),t.preventDefault(),t.stopImmediatePropagation())})),$window.on("resize",(function(){viewportwidth>=1024&&et.each((function(){var t=$(this);t.parent().hasClass("timeline-item-video")&&(t.find("video").length||t.find("iframe").length)&&t.addClass("video-is-active"),t.parent().hasClass("timeline-item-video")&&t.find("video").length&&t.find("video").remove(),t.parent().hasClass("timeline-item-video")&&t.find("iframe").length&&t.find("iframe").remove()}))})),$body.on("click",".timeline-item-magnific",(function(t){$(this).magnificPopup({autoFocusLast:!1,closeBtnInside:!1,closeMarkup:'<button title="%title%" type="button" class="mfp-close"><span class="text">'+a+"</span></button>",type:"inline",midClick:!0,mainClass:"mfp-fade mfp-timeline",removalDelay:200,callbacks:{open:function(){var t=$(".mfp-container"),e=t.find(".timeline-item"),s=t.find(".img-wrapper"),i=t.find(".img-slider");$body.addClass("mfp-is-open mfp-timeline-is-open"),t.find("video").length&&t.find("video").attr("preload","auto"),i.length&&(e.css({width:t.find(".slick-active .post-img").width()+parseInt(s.css("padding-left"))+parseInt(s.css("padding-right"))+parseInt(e.css("padding-left"))+parseInt(e.css("padding-right"))}),$(".img-slider").slick("setPosition"),$window.on("resize",(function(){e.css({width:t.find(".slick-active .post-img").width()+parseInt(s.css("padding-left"))+parseInt(s.css("padding-right"))+parseInt(e.css("padding-left"))+parseInt(e.css("padding-right"))}),$(".img-slider").slick("setPosition")})))},beforeClose:function(){var t=$(".mfp-container");t.find("video").length&&!t.find("video")[0].paused&&t.find("video")[0].pause()},close:function(){$body.removeClass("mfp-is-open mfp-timeline-is-open")}}}).magnificPopup("open"),t.preventDefault()})),$window.on("resize",(function(){viewportwidth>=1024&&$body.hasClass("mfp-is-open")&&!$body.hasClass("mfp-timeline-is-open")&&$.magnificPopup.close(),viewportwidth<1024&&$body.hasClass("mfp-timeline-is-open")&&$.magnificPopup.close()}));var st=$(".m-history-page").find("aside"),it=st.find(".aside-fixed-wrapper");st&&it&&it.stick_in_parent({offset_top:$(".l-navigation").height(),parent:st,spacer:!1});var at=$(".timeline-footer-social").find("ul a");at.on("mouseenter",(function(){var t=$(this);$(".social-line").removeClass("is-active"),t.find(".fb").length?$(".social-line-facebook").addClass("is-active"):t.find(".tw").length?$(".social-line-twitter").addClass("is-active"):$(".social-line-discord").addClass("is-active")})),at.on("mouseleave",(function(){$(".social-line").removeClass("is-active")})),is.touchDevice()&&at.addClass("hover"),$window.on("load",(function(){$(".paroller").paroller()})),$("iframe.defer").each((function(){var t=$(this);t.attr("src",t.data("src"))})),$document.ready((function(){$(".fb-share, .tw-share").click((function(t){return t.preventDefault(),window.open($(this).attr("href"),"shareWindow","height=450, width=580, top="+($(window).height()/2-275)+", left="+($(window).width()/2-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"),!1}))}));var nt=$(".l-header-streamers-content").find(".tabs"),ot=$(".l-header-streamers-content .nav-tabs").find(".btn"),rt=!1;nt.on("beforeChange",(function(t,e,s,i){if(!0!==rt)return!1;ot.removeClass("is-active"),ot.eq(i).addClass("is-active"),rt=!1})),nt.slick({adaptiveHeight:!0,arrows:!1,draggable:!1,fade:!0,swipe:!1,touchMove:!1}),ot.on("click",(function(){rt=!0;var t=$(this),e=parseInt(t.data("slide-index"));t.hasClass("is-active")||nt.slick("slickGoTo",e,!1)}));var lt,dt=$(".l-header-streamers-content").find(".featured-content-items"),ct={adaptiveHeight:!0,autoplay:!1,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",speed:500,touchMove:!1,prevArrow:'<button class="btn btn-icon btn-icon-prev d-none d-lg-flex"><svg aria-hidden="true"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button class="btn btn-icon btn-icon-next d-none d-lg-flex"><svg aria-hidden="true"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",slidesToShow:4,slidesToScroll:4};function ht(){viewportwidth>=1024?dt.hasClass("slick-initialized")||dt.slick(ct):dt.hasClass("slick-initialized")&&dt.slick("unslick")}if(dt.on("afterChange",(function(){nt.slick("setPosition")})),ht(),$window.on("resize",ht),$(".c-press-kit-block-images-item").find("a").hover((function(){var t=$(this).find("video");t.length&&(t[0].currentTime=0,t[0].play())}),(function(){var t=$(this).find("video");t.length&&(lt=setTimeout((function(){clearTimeout(lt),t[0].pause()}),200))})),$(".btn-copy").on("click",(function(t){var e,s=$(this),i=s.find(".text .normal").text(),a=s.find(".label"),n=a.text();s.hasClass("btn-copy-is-active")||(s.addClass("btn-copy-is-active"),navigator.clipboard.writeText(i).then((function(){a.text(s.data("success-text")),e=setTimeout((function(){clearTimeout(e),a.text(n),s.removeClass("btn-copy-is-active")}),3e3)}))),t.preventDefault()})),!isFirstPageView)try{wpcf7.initForm($(".wpcf7-form"))}catch(t){}var pt=$(".audio-item > a"),ft=[],ut=function(t){this.playlist=t,this.index=0};pt.each((function(){ft.push({file:$(this).data("songname"),howl:null})})),ut.prototype={play:function(t){t="number"==typeof t?t:this.index;var e=this.playlist[t];(e.howl?e.howl:e.howl=new Howl({src:[e.file],html5:!0})).play(),this.index=t},pause:function(){this.playlist[this.index].howl.pause()},skip:function(t){var e=0;"prev"===t?(e=this.index-1)<0&&(e=this.playlist.length-1):(e=this.index+1)>=this.playlist.length&&(e=0),this.skipTo(e)},skipTo:function(t){this.playlist[this.index].howl&&this.playlist[this.index].howl.stop(),this.play(t)},seek:function(t){var e=this.playlist[this.index].howl;e.playing()&&e.seek(e.duration()*t)}};var mt=new ut(ft);pt.on("click",(function(t){var e=$(this);$(t.target).data("href")?window.open($(t.target).data("href"),"_blank"):e.hasClass("is-active")?(mt.pause(),e.removeClass("is-active")):(pt.removeClass("is-active"),mt.skipTo($(this).data("song-index")),e.addClass("is-active")),t.preventDefault()}));var gt=$(".m-shop-page-item");gt.each((function(){var t=$(this),e=t.find(".imgs");e.length&&e.find(".img").length>1&&e.slick({appendArrows:t.find(".imgs-wrapper"),appendDots:t.find(".imgs-dots"),autoplay:!1,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",dots:!0,fade:!0,initialSlide:0,speed:800,touchMove:!1,prevArrow:'<button type="button" class="slick-prev btn btn-arrow btn-arrow-prev d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button type="button" class="slick-next btn btn-arrow btn-arrow-next d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",responsive:[{breakpoint:768,settings:{speed:500}}]})})),gt.find(".currencies").hover((function(){$(this).parents(".m-shop-page-item").addClass("m-shop-page-item-currencies-is-visible")}),(function(){$(this).parents(".m-shop-page-item").removeClass("m-shop-page-item-currencies-is-visible")}));var vt=$(".m-shop-page-vision");vt.find(".btn-show-more").on("click",(function(){vt.find(".row.d-xl-none > .col-12:nth-child(n+3)").fadeIn(),$(this).fadeOut()})),$(".m-shop-page-free-gifts-imgs-slick").each((function(){var t=$(this);t.find(".m-shop-page-free-gifts-img").length>1&&t.slick({appendDots:t.parent().find(".m-shop-page-free-gifts-imgs-dots"),arrows:!1,autoplay:!1,cssEase:"cubic-bezier(0.645, 0.045, 0.355, 1)",dots:!0,initialSlide:0,speed:800,touchMove:!1,prevArrow:'<button type="button" class="slick-prev btn btn-arrow btn-arrow-prev d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-left-small"></use></svg><span class="sr-only">'+s+"</span></button>",nextArrow:'<button type="button" class="slick-next btn btn-arrow btn-arrow-next d-none d-lg-block"><svg aria-hidden="true" class="normal"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><svg aria-hidden="true" class="hover"><use xlink:href="/assets/dist/images/svg/sprite.svg#arrow-right-small"></use></svg><span class="sr-only">'+i+"</span></button>",responsive:[{breakpoint:768,settings:{speed:500}}]})}));var bt=$(".diagonal-scroll-element");function wt(){bt&&bt.each((function(){var t=$(this),e=.25*(t.offset().top-95)+"px";t.css({transform:"translateX(-"+e+")"})}))}if(bt){var yt=gsap.utils.toArray(".diagonal-scroll-container");wt(),$window.on("resize",wt),yt.forEach(t=>{gsap.to(t,{x:Math.abs(bt.first().offset().left-bt.last().offset().left),ease:"none",scrollTrigger:{trigger:"body",scrub:!0,start:"top top",end:"bottom bottom"}})});const t=new IntersectionObserver(t=>{t.forEach(t=>{!0===t.isIntersecting?t.target.style.visibility="visible":t.target.style.visibility="hidden"})},{threshold:[0]});document.querySelectorAll(".diagonal-scroll-element").forEach(e=>{t.observe(e)})}function $t(t,e){var s=$('button[data-item-id="'+t.id+'"]');s&&(s.hasClass("has-limit")&&parseInt(s.attr("data-item-max-quantity"))===parseInt(t.quantity)&&(s.addClass("has-limit-reached"),s.attr("disabled",!0),s.attr("aria-disabled",!0)),s.hasClass("has-limit-reached")&&parseInt(s.attr("data-item-max-quantity"))>parseInt(t.quantity)&&(s.removeClass("has-limit-reached"),s.attr("disabled",!1),s.attr("aria-disabled",!1)),parseInt(t.quantity)>0?(s.addClass("added"),s.find("span.normal span, span.hover span").text(s.attr("data-added-to-cart-text"))):(s.removeClass("added"),s.find("span.normal span, span.hover span").text(s.attr("data-add-to-cart-text"))),void 0!==t.customFields[0]&&t.customFields[0].value&&s.parents(".m-shop-page-item").find('button[data-item-variation-value="'+t.customFields[0].value+'"]').addClass("active"),e&&(s.removeClass("has-limit-reached"),s.attr("disabled",!1),s.attr("aria-disabled",!1),s.removeClass("added"),s.find("span.normal span, span.hover span").text(s.attr("data-add-to-cart-text"))))}if(document.addEventListener("snipcart.ready",()=>{var t=window.Snipcart;t.events.on("item.added",t=>{$t(t,!1)}),t.events.on("item.updated",t=>{$t(t,!1)}),t.events.on("item.removed",t=>{$t(t,!0)}),t.events.on("snipcart.initialized",t=>{var e=t.cart.items.items;e&&e.forEach((function(t){$t(t)}))});const e=document.getElementById("free-gift-chart-xs"),s=document.getElementById("free-gift-chart-lg");if(e&&s){const i=e.dataset.goal,a=s.dataset.goal,n=$(".chart");(chartXs||chartLg)&&(chartXs.destroy(),chartLg.destroy()),chartXs=new Chart(e,{type:"doughnut",data:{datasets:[{data:[{id:"Amount",nested:{value:e.dataset.amount}},{id:"Goal",nested:{value:e.dataset.goal}}],backgroundColor:["rgba(255, 255, 255, 1)","rgba(0, 0, 0, 0)"],borderWidth:0}]},options:{parsing:{key:"nested.value"},plugins:{legend:{display:!1},title:{display:!1}},responsive:!0,cutout:"82%"}}),chartLg=new Chart(s,{type:"doughnut",data:{datasets:[{data:[{id:"Amount",nested:{value:s.dataset.amount}},{id:"Goal",nested:{value:s.dataset.goal}}],backgroundColor:["rgba(65, 51, 35, 1)","rgba(0, 0, 0, 0)"],borderWidth:0}]},options:{parsing:{key:"nested.value"},plugins:{legend:{display:!1},title:{display:!1}},responsive:!0,cutout:"82%"}}),t.store.subscribe(()=>{e.dataset.amount=t.store.getState().cart.total,s.dataset.amount=t.store.getState().cart.total,t.store.getState().cart.total>=i?(e.dataset.goal=0,e.dataset.amount=i,n.addClass("chart-is-full"),n.parents(".m-shop-fixed-footer-free-gifts").find(".text span").text(n.parents(".m-shop-fixed-footer-free-gifts").find(".text").data("eligible-text"))):(e.dataset.goal=i-t.store.getState().cart.total,e.dataset.amount=t.store.getState().cart.total,n.removeClass("chart-is-full"),n.parents(".m-shop-fixed-footer-free-gifts").find(".text span").text(n.parents(".m-shop-fixed-footer-free-gifts").find(".text").data("not-eligible-text"))),t.store.getState().cart.total>=a?(s.dataset.goal=0,s.dataset.amount=a,n.addClass("chart-is-full"),n.parents(".m-shop-fixed-footer-free-gifts").find(".text span").text(n.parents(".m-shop-fixed-footer-free-gifts").find(".text").data("eligible-text"))):(s.dataset.goal=a-t.store.getState().cart.total,s.dataset.amount=t.store.getState().cart.total,n.removeClass("chart-is-full"),n.parents(".m-shop-fixed-footer-free-gifts").find(".text span").text(n.parents(".m-shop-fixed-footer-free-gifts").find(".text").data("not-eligible-text"))),chartXs.data.datasets[0].data[0].nested.value=e.dataset.amount,chartLg.data.datasets[0].data[0].nested.value=s.dataset.amount,chartXs.data.datasets[0].data[1].nested.value=e.dataset.goal,chartLg.data.datasets[0].data[1].nested.value=s.dataset.goal,chartXs.update(),chartLg.update()})}t.api.theme.customization.registerPaymentFormCustomization({input:{backgroundColor:"transparent",color:"#fff",border:"1px solid #444444",fontSize:"16px",fontFamily:"neusa-next-std-condensed, Open Sans, sans-serif",placeholder:{color:"fff"}},label:{color:"#fff",fontFamily:"neusa-next-std-condensed, Open Sans, sans-serif",fontSize:"16px"}})}),gt.find(".variations .btn").on("click",(function(){var t=$(this),e=t.parents(".m-shop-page-item"),s=e.find(".btn-buy");t.hasClass("active")||t.parents(".sold-out").length||(e.find(".variations .btn").removeClass("active"),t.addClass("active"),s.attr("data-item-custom1-value",t.data("item-variation-value")),s.attr("disabled",!1),s.attr("aria-disabled",!1),e.find(".price span.amount span.number").text((parseFloat(s.data("item-price"))+parseFloat(t.data("item-variation-amount"))).toFixed(2)))})),clearInterval(getProductsDataInterval),$(".m-shop-page").length){getProductsDataInterval=setInterval(()=>$.ajax({url:$(".m-shop-page").data("wp-ajax-url"),data:{action:"refresh_products_total"}}).done((function(t){JSON.parse(t).forEach(t=>{const e=$('button[data-item-id="'+t.userDefinedId+'"]');let s=0;if(e.length){const i=e.parents(".m-shop-page-item"),a=i.find(".flag");if("Single"===t.inventoryManagementMethod&&"stock"in t?isNaN(parseInt(t.stock))||(s=parseInt(t.stock)):"Variant"===t.inventoryManagementMethod&&"variants"in t&&t.variants.forEach(t=>{"stock"in t&&(isNaN(parseInt(t.stock))||(s+=parseInt(t.stock)))}),s>0){i.removeClass("sold-out"),e.hasClass("has-limit-reached")||(e.attr("disabled",!1),e.attr("aria-disabled",!1)),e.hasClass("added")?e.find("span.normal, span.hover").html("<span>"+e.data("added-to-cart-text")+"</span>"):e.find("span.normal, span.hover").html("<span>"+e.data("add-to-cart-text")+"</span>");let t=a.data("remaining-lg-text");$(".barba-container").hasClass("en")||1!==s||(t="restant"),a.html('<span class="d-lg-none">'+a.data("remaining-xs-text")+" "+s+'</span><span class="d-none d-lg-inline">'+a.data("only-text")+" "+s+" "+t+"</span>"),e.data("item-max-quantity")&&e.find("span.normal, span.hover").append("<br><small>("+e.data("limited-to-text")+" "+e.data("item-max-quantity")+" "+e.data("per-purchase-text")+")</small>")}else i.addClass("sold-out"),e.attr("disabled",!0),e.attr("aria-disabled",!0),e.find("span.normal, span.hover").html("<span>"+e.data("sold-out-text")+"</span>"),a.html("<span>"+a.data("sold-out-text")+"</span>")}})})),5e3)}ScrollTrigger.refresh()}function blogLogoKeyshapeJS(){var t,e=$(".l-header-blog").find("h1 svg");if(e.length){if(window.KeyshapeJS=function(){function t(t){return void 0!==t}function e(t,e){return t&&0==t.indexOf(e)}function s(t){if(!isFinite(t))throw Error("Non-finite value")}function i(e){if(14>=e)return 16;var s=S[e];return s||(s=t(F[e])?0|(e.toLowerCase().indexOf("color")==e.length-5?48:0):1),s}function a(t){return 0<=t?Math.pow(t,1/3):-Math.pow(-t,1/3)}function n(t,e){if(48==t&&"number"==typeof e)return"rgba("+(e>>>24)+","+(e>>>16&255)+","+(e>>>8&255)+","+(255&e)/255+")";if(64==t)return(e=e.map((function(t){return t+"px"}))).join(",");if(96==t){t="";for(var s=e.length,i=0;i<s;i+=2)t+=e[i],t+=e[i+1].join(",");return t}if(80==t){if(0==e[0])return"none";for(t="",s=e.length,i=0;i<s;)t+=x[e[i]],1==e[i]?t+="("+e[i+1]+") ":5==e[i]?(t+="("+e[i+1]+"px "+e[i+2]+"px "+e[i+3]+"px rgba("+(e[i+4]>>>24)+","+(e[i+4]>>16&255)+","+(e[i+4]>>8&255)+","+(255&e[i+4])/255+")) ",i+=3):t=2==e[i]?t+"("+e[i+1]+"px) ":7==e[i]?t+"("+e[i+1]+"deg) ":t+"("+(0>e[i+1]?0:e[i+1])+") ",i+=2;return t}return 32==t?e+"px":e}function o(t){return 0>=t?0:255<=t?255:t}function r(t,e){t:{for(var s=t+e[2],i=e[4].length,n=0;n<i;++n)if(s<e[4][n]){s=n;break t}s=i-1}if(i=e[2],t=(t-(n=e[4][s-1]-i))/(e[4][s]-i-n),e[6]&&e[6].length>s-1)if(1==(i=e[6][s-1])[0])if(0>=t)t=0;else if(1<=t)t=1;else{n=i[1];var r=i[3];t=3*(t=function(t,e,s,i){if(0==t)return 0==e?e=-i/s:0<=(i=(-s+(t=Math.sqrt(s*s-4*e*i)))/(2*e))&&1>=i?e=i:e=0<=(i=(-s-t)/(2*e))&&1>=i?i:0,e;var n=s/t-e*e/(t*t)/3,o=(s=e*e*e/(t*t*t)/13.5-e*s/(t*t)/3+i/t)*s/4+n*n*n/27;if(e=-e/(3*t),0>=o){if(0==n&&0==s)return-a(i/t);if(t=Math.sqrt(s*s/4-o),i=Math.acos(-s/2/t),s=Math.cos(i/3),i=Math.sqrt(3)*Math.sin(i/3),0<=(n=2*(t=a(t))*s+e)&&1>=n)return n;if(0<=(n=-t*(s+i)+e)&&1>=n)return n;if(0<=(n=t*(i-s)+e)&&1>=n)return n}else{if(0<=(i=(t=a(-s/2+Math.sqrt(o)))+(s=a(-s/2-Math.sqrt(o)))+e)&&1>=i)return i;if(0<=(i=-(t+s)/2+e)&&1>=i)return i}return 0}(3*n-3*r+1,-6*n+3*r,3*n,-t))*(1-t)*(1-t)*i[2]+3*t*t*(1-t)*i[4]+t*t*t}else 2==i[0]?(i=i[1],t=Math.ceil(t*i)/i):3==i[0]&&(i=i[1],t=Math.floor(t*i)/i);return function(t,e,s,i){if(16==t||32==t)return(s-e)*i+e;if(0==t)return.5>i?e:s;if(48==t){if("number"==typeof e&&"number"==typeof s){var a=1-i;return(o(a*(e>>>24)+i*(s>>>24))<<24|o(a*(e>>>16&255)+i*(s>>>16&255))<<16|o(a*(e>>>8&255)+i*(s>>>8&255))<<8|o(a*(255&e)+i*(255&s)))>>>0}return.5>i?e:s}if(64==t){0==e.length&&(e=[0]),0==s.length&&(s=[0]);var n=e.length;e.length!=s.length&&(n=e.length*s.length);var r=[];for(t=0;t<n;++t){var l=e[t%e.length],d=(s[t%s.length]-l)*i+l;0>d&&(d=0),r.push(d)}return r}if(96==t){if(e.length!=s.length)return.5>i?e:s;for(n=e.length,r=[],t=0;t<n;t+=2){if(e[t]!==s[t])return.5>i?e:s;for(r[t]=e[t],r[t+1]=[],l=0;l<e[t+1].length;++l)r[t+1].push((s[t+1][l]-e[t+1][l])*i+e[t+1][l])}return r}if(80==t){if((n=e.length)!=s.length)return.5>i?e:s;for(r=[],t=0;t<n;){if(e[t]!=s[t]||1==e[t])return.5>i?e:s;if(r[t]=e[t],r[t+1]=(s[t+1]-e[t+1])*i+e[t+1],5==e[t]){r[t+2]=(s[t+2]-e[t+2])*i+e[t+2],r[t+3]=(s[t+3]-e[t+3])*i+e[t+3],a=1-i;var c=e[t+4],h=s[t+4];d=a*(c>>>24)+i*(h>>>24);var p=a*(c>>16&255)+i*(h>>16&255);l=a*(c>>8&255)+i*(h>>8&255),a=a*(255&c)+i*(255&h),r[t+4]=(o(p)<<16|o(l)<<8|o(a))+16777216*(0|o(d)),t+=3}t+=2}return r}return 0}(240&e[1],e[5][s-1],e[5][s],t)}function l(){I||(z=(new Date).getTime()+E)}function d(t){if(t||!P){for(var e=!1,s=0;s<O.length;++s)O[s].J(t)&&(e=!0);if(t)for(;0<A.length;)s=(t=A.shift())[0],1==t[1]?(s.onfinish&&(s.onfinish(),e=!0),s.I()):2==t[1]&&s.onloop&&s.onloop();return e}}function c(){l(),d(!0)&&!I?(P=!0,T(c)):P=!1}function h(){P||(P=!0,T(c))}function p(t,e){var s=[];return t.split(e).forEach((function(t){s.push(parseFloat(t))})),s}function f(t){return-1==t.indexOf(",")&&(t=t.replace(" ",",")),p(t,",")}function u(s){if(s._ks||(s._ks={}),!s._ks.transform){for(var i=s._ks.transform=[],a=0;14>=a;++a)i[a]=0;if(i[10]=1,i[11]=1,s=s.getAttribute("transform")){for(a=(s=s.trim().split(") ")).length-2;0<=a;--a)if(e(s[a],"translate(")){for(var n=0;n<a;n++)s.shift();break}e(a=s.shift(),"translate(")&&(a=f(a.substring(10)),i[1]=a[0],i[2]=t(a[1])?a[1]:0,a=s.shift()),e(a,"rotate(")&&(a=f(a.substring(7)),i[6]=a[0],a=s.shift()),e(a,"skewX(")&&(a=f(a.substring(6)),i[7]=a[0],a=s.shift()),e(a,"skewY(")&&(a=f(a.substring(6)),i[8]=a[0],a=s.shift()),e(a,"scale(")&&(a=f(a.substring(6)),i[10]=a[0],i[11]=t(a[1])?a[1]:a[0],a=s.shift()),e(a,"translate(")&&(a=f(a.substring(10)),i[13]=a[0],i[14]=t(a[1])?a[1]:0)}}}function m(t){this.l=t,this.A=[],this.C=[],this.v=0,this.s=this.a=this.c=null,this.h=this.f=this.g=0,this.b=1,this.i=this.F=this.o=!1}function g(t,e,s){return void 0===(e=t[e])&&(e=t[s]),e}function v(t){return Array.isArray(t)?t:e(t,"cubic-bezier(")?(t=t.substring(13,t.length-1).split(","),[1,parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])]):e(t,"steps(")?[(t=t.substring(6,t.length-1).split(","))[1]&&"start"==t[1].trim()?2:3,parseFloat(t[0])]:[0]}function b(t){return e(t=t.trim(),"#")?255+(parseInt(t.substring(1),16)<<8):e(t,"rgba(")?(t=(t=t.substring(5,t.length-1)).split(","),(parseInt(t[0],10)<<24)+(parseInt(t[1],10)<<16)+(parseInt(t[2],10)<<8)+255*parseFloat(t[3])<<0):t}function w(t){return!1===t.i&&(O.push(t),t.i=!0,!1!==t.l.autoplay&&t.play()),this}function y(t){if(!0===t.i){t._cancel();var e=O.indexOf(t);-1<e&&O.splice(e,1),-1<(e=A.indexOf(t))&&A.splice(e,1),t.i=!1}return this}var $=Error("Not in timeline list"),k="mpath posX posY    rotate skewX skewY  scaleX scaleY  anchorX anchorY".split(" "),C=" translate translate    rotate skewX skewY  scale scale  translate translate".split(" "),x="none url blur brightness contrast drop-shadow grayscale hue-rotate invert opacity saturate sepia".split(" "),T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;T||(T=function(t){window.setTimeout(t,16)});var I,S={d:97,fill:48,fillOpacity:16,filter:80,height:33,opacity:16,offsetDistance:33,stroke:48,strokeDasharray:64,strokeDashoffset:32,strokeOpacity:16,strokeWidth:32,transform:1,width:33},F=window.getComputedStyle(document.documentElement),P=!1,z=(new Date).getTime(),E=0,O=[],A=[];return m.prototype={B:function(t){var e=0;if(null!==this.c){var s=this.j();0<this.b&&null!==s&&s>=this.f?this.h?(this.c=z-this.g/this.b,this.h--,e=2):(e=1,this.a=t?s:this.s?Math.max(this.s,this.f):this.f):0>this.b&&null!==s&&s<=this.g?this.h&&1/0!=this.f?(this.c=z-this.f/this.b,this.h--,e=2):(this.h=0,e=1,this.a=t?s:this.s?Math.min(this.s,this.g):this.g):null!==s&&0!=this.b&&(t&&null!==this.a&&(this.c=z-this.a/this.b),this.a=null)}return this.s=this.j(),e},J:function(t){if(t&&(this.o&&(this.o=!1,null===this.c&&(0!=this.b&&null!==this.a?(this.c=z-this.a/this.b,this.a=null):this.c=z)),null===this.a&&null!==this.c&&(0!=(t=this.B(!1))&&A.push([this,t]))),null===(t=this.j()))return!1;for(var e=this.A,s=this.C,i=0;i<e.length;++i){for(var a=e[i],o=!1,l=0;l<s[i].length;++l){var d=s[i][l],c=d[0];if(null!==c){var h=d[2],p=d[4].length,f=d[4][p-1]-h;h=0==f?d[5][p-1]:t<=h?d[5][0]:t>=h+d[3]?0==d[3]%f?d[5][p-1]:r(d[3]%f,d):r((t-h)%f,d),0==c?(a._ks.mpath=d[8],a._ks.transform[c]=h,o=!0):14>=c?(a._ks.transform[c]=h,o=!0):(h=n(240&d[1],h),1&d[1]?a.setAttribute(c,h):a.style[c]=h)}}if(o){for(u(a),o=a._ks.transform,l="",(d=a._ks.mpath)&&(0>(h=o[0])&&(h=0),100<h&&(h=100),h=h*d[2]/100,l="translate("+(c=d[1].getPointAtLength(h)).x+","+c.y+") ",d[0]&&(.5>h?(h=c,c=d[1].getPointAtLength(.5)):h=d[1].getPointAtLength(h-.5),l+="rotate("+180*Math.atan2(c.y-h.y,c.x-h.x)/Math.PI+") ")),d=1;d<o.length;++d)(c=o[d])!=(10==d||11==d?1:0)&&(l+=" "+C[d]+"(",l=2>=d?l+(1==d?c+",0":"0,"+c):13<=d?l+(13==d?c+",0":"0,"+c):10<=d?l+(10==d?c+",1":"1,"+c):l+c,l+=")");a.setAttribute("transform",l)}}return"running"==this.m()},I:function(){!1!==this.l.autoremove&&"finished"==this.m()&&y(this)},D:function(){if(!this.F){this.F=!0;for(var t=this.A,e=this.C,s=0;s<t.length;++s)for(var i=t[s],a=0;a<e[s].length;++a)14>=e[s][a][0]&&u(i)}},u:function(e){if("number"==typeof e)return e;if(!t(this.l.markers)||!t(this.l.markers[e]))throw Error("Invalid marker: "+e);return+this.l.markers[e]},play:function(e){if(t(e)&&null!==e&&(s(e=this.u(e)),0>this.b&&e<this.g&&(e=this.g),0<this.b&&e>this.f&&(e=this.f),this.w(e,!0)),!this.i)throw $;if(e=this.j(),0<this.b&&(null===e||e>=this.f))this.a=this.g;else if(0>this.b&&(null===e||e<=this.g)){if(1/0==this.f)throw Error("Cannot seek to Infinity");this.a=this.f}else 0==this.b&&null===e&&(this.a=this.g);return null===this.a||(this.c=null,this.o=!0,this.D(),h()),this},pause:function(e){if(!this.i)throw $;if(t(e)&&s(e=this.u(e)),"paused"!=this.m()){l();var i=this.j();if(null===i)if(0<=this.b)this.a=this.g;else{if(1/0==this.f)throw Error("Cannot seek to Infinity");this.a=this.f}null!==this.c&&null===this.a&&(this.a=i),this.c=null,this.o=!1,this.B(!1),this.D(),h()}return t(e)&&this.w(e,!0),this},range:function(e,i){if(0==arguments.length)return{in:this.g,out:this.f};var a=this.u(e),n=this.v;if(t(i)&&(n=this.u(i)),s(a),0>a||0>n||a>=n||isNaN(n))throw Error("Invalid range");var o=this.m();return this.g=a,this.f=n,"finished"==o&&"running"==this.m()&&this.play(),this},loop:function(e){return t(e)?(this.h=!0===e?1/0:Math.floor(e),(0>this.h||isNaN(this.h))&&(this.h=0),this):{count:this.h}},j:function(){return null!==this.a?this.a:null===this.c?null:(z-this.c)*this.b},w:function(t,e){e&&l(),null!==t&&(this.D(),null!==this.a||null===this.c||0==this.b?(this.a=t,d(!1)):this.c=z-t/this.b,this.i||(this.c=null),this.s=null,this.B(!0),h())},G:function(){return this.j()},time:function(e){if(t(e)){if(!this.i)throw $;return s(e=this.u(e)),this.w(e,!0),this}return this.G()},m:function(){var t=this.j();return this.o?"running":null===t?"idle":null===this.c?"paused":0<this.b&&t>=this.f||0>this.b&&t<=this.g?"finished":"running"},state:function(){return this.m()},duration:function(){return this.v},H:function(t){s(t),l();var e=this.j();this.b=t,null!==e&&this.w(e,!1)},rate:function(e){return t(e)?(this.H(e),this):this.b},marker:function(e){return t(this.l.markers)?this.l.markers[e]:void 0},_cancel:function(){return this.i&&"idle"!=this.m()?(this.c=this.a=null,this.o=!1,this):this}},{version:"1.1.0",animate:function(){var a={};if(1==arguments.length%2){a=arguments[arguments.length-1];var n={};for(o in a)n[o]=a[o];a=n}var o=new m(a);a=arguments;for(var r=n=0;r<a.length-1;r+=2){var l=a[r],d=l instanceof Element?l:document.getElementById(l.substring(1));if(!d)throw Error("Invalid target: "+l);l=d,d=a[r+1],l._ks||(l._ks={});for(var c=[],h=0;h<d.length;++h){var f=d[h],u=g(f,"p","property");if("string"!=typeof u||-1!=u.indexOf("-")||""===u||!(0<S[u]||0<=k.indexOf(u)))throw Error("Invalid property: "+u);var y=k.indexOf(u);""!==u&&0<=y&&(u=y),y=i(u);var $=g(f,"t","times");if(!$||2>$.length)throw Error("Not enough times");if($=$.slice(),!isFinite($[0])||0>$[0])throw Error("Invalid time: "+$[0]);for(var C=1;C<$.length;++C)if(!isFinite($[C])||0>$[C]||$[C]<$[C-1])throw Error("Invalid time: "+$[C]);C=$[0];var T=$[$.length-1]-C,I=f.iterations||0;1>I&&(I=1),n<(T*=I)+C&&(n=T+C);var F=g(f,"v","values");if(!F||F.length!=$.length)throw Error("Values do not match times");for(var P=u,z=F=F.slice(),E=240&i(P),O=0;O<z.length;++O)if(96==E){for(var A=z[O].substring(6,z[O].length-2).match(/[A-DF-Za-df-z][-+0-9eE., ]*/gi),D=[],M=0;M<A.length;++M){D.push(A[M][0]);for(var _=1<A[M].trim().length?A[M].substring(1).split(","):[],L=0;L<_.length;++L)_[L]=parseFloat(_[L]);D.push(_)}z[O]=D}else if(48==E)e(z[O],"#")?(A=9==z[O].length,z[O]=parseInt(z[O].substring(1),16),A||(z[O]=256*z[O]|255)):e(z[O],"url(")||"none"==z[O]||(console.warn("unsupported color: "+z[O]),z[O]=0);else if(80==E){if(A=z,D=O,"none"==(M=z[O]))M=[0];else{_=[];for(var j=M.indexOf("(");0<j&&0<=(L=x.indexOf(M.substring(0,j)));){_.push(L);var q=M.indexOf(") ");0>q&&(q=M.length-1),j=M.substring(j+1,q).split(" "),5==L?(_.push(parseFloat(j[0])),_.push(parseFloat(j[1])),_.push(parseFloat(j[2])),_.push(b(j[3]))):1==L?_.push(j[0]):_.push(parseFloat(j[0])),j=(M=M.substring(q+1).trim()).indexOf("(")}M=_}A[D]=M}else 64==E?"none"!=z[O]?/^[0-9 .]*$/.test(z[O])?z[O]=p(z[O]," "):(console.warn("unsupported value: "+z[O]),z[O]=[0]):z[O]=[0]:32==E?(s(z[O]),z[O]=parseFloat(z[O])):0===P&&(z[O]=parseFloat(z[O]));for(P=g(f,"e","easing"),z=$.length,P||(P=[]);P.length<z;)P.push([1,0,0,.58,1]);for(z=0;z<P.length;++z)P[z]=v(P[z]);y=[u,y,C,T,$,F,P,I],t($=g(f,"mp","motionPath"))&&0===u&&(y[8]=[],y[8][0]=f.motionRotate,$||($="M0,0"),(f=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",$),y[8][1]=f,y[8][2]=f.getTotalLength()),c.push(y)}0<c.length&&(o.A.push(l),o.C.push(c))}return o.v=n,o.g=0,o.f=o.v,w(o),o},add:w,remove:y,removeAll:function(){for(var t=O.length-1;0<=t;--t)y(O[t]);return this},timelines:function(){return O.slice()},globalPlay:function(){return I&&(E=I-(new Date).getTime(),I=void 0,h()),this},globalPause:function(){return I||(I=z,d(!1)),this},globalState:function(){return I?"paused":"running"}}}(),0!=KeyshapeJS.version.indexOf("1."))throw Error("Expected KeyshapeJS v1.*.*");window.ks=document.ks=KeyshapeJS,(t=KeyshapeJS).animate("#d24okslr63bnr8purtd4oc0v",[{p:"rotate",t:[0,600],v:[-29,-3],e:[[1,.645,.045,.355,1],[0]]}],"#j6nu3xv4n3xotzu9t0vjqhwx",[{p:"opacity",t:[2e3,2750],v:[.8,0],e:[[0],[0]]}],"#bh65pauf9723igqbvzd7mc8l",[{p:"rotate",t:[1e3,1500],v:[-29,-3],e:[[1,.645,.045,.355,1],[0]]}],"#nn5o408q522grr7g1qlxwl1x",[{p:"fill",t:[0,417],v:["#000000","#141414"],e:[[0],[0]]}],{autoplay:!1,autoremove:!1,markers:{in:0,rollover:1e3,rollout:2e3}}).range(0,2767),document.location.search.substr(1).split("&").indexOf("global=paused")>=0&&t.globalPause(),(ksTl=KeyshapeJS.timelines()[0]).pause(),ksTl.play(),ksTl.time("in"),ksTl.range(0,1e3),e.on("mouseenter",(function(){ksTl.time("rollover"),ksTl.range(1e3,2e3)})),e.on("mouseleave",(function(){ksTl.time("rollout"),ksTl.range(2e3,3e3)}))}}!function(t){var e=200;t((function(){var s=!1;function i(){$body.removeClass("is-loading"),$body.addClass("dom-is-loaded"),isFirstPageView=!1,scrollToHashtagOnLoad(),setTimeout((function(){if($body.addClass("is-anim-ready"),!t(".page-template-shop").length){var e=t(".scroll-appear");e.each((function(){scrollAppear(t(this))})),$window.on("scroll resize",(function(){e.each((function(){scrollAppear(t(this))}))}))}var s=t("lottie-player");s.length&&(s.each((function(){startLottieOnScroll(t(this))})),$window.on("scroll resize",(function(){s.each((function(){startLottieOnScroll(t(this))}))})));var i=t(".on-scroll-video");i.length&&(Modernizr.video.webm&&is.not.ios()?(i.each((function(){startOnScrollVideo(t(this))})),$window.on("scroll resize",(function(){i.each((function(){startOnScrollVideo(t(this))}))}))):i.each((function(){var e=t(this),s=e.find("video"),i=s.data("fallback");s.length&&(s.remove(),e.append('<img src="'+i+'" alt="" class="d-block">'))})));var a=t(".jobs-title");if(a.length){var n=a.parent();n.css({height:n.height()}),a.remove(),setTimeout((function(){n.prepend(a),n.css({height:"auto"})}),200)}blogLogoKeyshapeJS()}),e),t(".barba-container").addClass("is-loaded")}$window.on("load",(function(){s=!0,setTimeout((function(){i()}),100)})),setTimeout((function(){s||i()}),3e3)}));var s=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.transitionOut()]).then(this.transitionIn.bind(this))},transitionOut:function(){return $body.removeClass("page-is-loaded").addClass("is-changing-page"),$body.hasClass("sliding-panel-is-open")&&setTimeout((function(){slidingPanel.close()}),200),t(this.oldContainer).addClass("is-changing-page").delay(800).promise()},transitionIn:function(){e=200,t(this.newContainer).addClass("is-loaded"),t(this.oldContainer).hide(),t("html,body").animate({scrollTop:0},1,"",(function(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),$body.removeClass("is-changing-page").addClass("page-is-loaded"),$body.removeClass("is-anim-ready"),isFirstPageView=!1,scrollToHashtagOnLoad(),clearTimeout(transitionInTimeout),transitionInTimeout=setTimeout((function(){if($body.addClass("is-anim-ready"),!t(".page-template-shop").length){var e=t(".scroll-appear");e.each((function(){scrollAppear(t(this))})),$window.on("scroll resize",(function(){e.each((function(){scrollAppear(t(this))}))}))}var s=t(".on-scroll-video");s.length&&(Modernizr.video.webm&&is.not.ios()?(s.each((function(){startOnScrollVideo(t(this))})),$window.on("scroll resize",(function(){s.each((function(){startOnScrollVideo(t(this))}))}))):s.each((function(){var e=t(this),s=e.find("video"),i=s.data("fallback");s.length&&(s.remove(),e.append('<img src="'+i+'" alt="" class="d-block">'))})));var i=t("lottie-player");i.length&&(i.each((function(){startLottieOnScroll(t(this))})),$window.on("scroll resize",(function(){i.each((function(){startLottieOnScroll(t(this))}))})));var a=t(".jobs-title");if(a.length){var n=a.parent();n.css({height:n.height()}),a.remove(),setTimeout((function(){n.prepend(a),n.css({height:"auto"})}),200)}blogLogoKeyshapeJS()}),e)})),this.done()}});Barba.Pjax.getTransition=function(){return s},Barba.Dispatcher.on("transitionCompleted",(function(){isFirstPageView||"function"==typeof __gaTracker&&(__gaTracker("set","page",window.location.pathname),__gaTracker("send","pageview")),initScript()})),Barba.Pjax.start(),Barba.Prefetch.init()}(window.jQuery||window.$);
//# sourceMappingURL=main.js.map
